<!DOCTYPE html>
<html>
<head>
    <title>SMS Sender</title>
    <style>
        .error {
            color: red;
        }
    </style>
</head>
<body>
    <h1>SMS Sender</h1>
    <form method="post" action="<?php echo $_SERVER['PHP_SELF']; ?>">
        <label for="phone_numbers">Phone Numbers (one per line):</label>
        <br>
        <textarea name="phone_numbers" id="phone_numbers" rows="5" cols="30"></textarea>
        <br>
        <label for="message">Message:</label>
        <br>
        <textarea name="message" id="message" rows="5" cols="30" onkeyup="updateCharacterCount()"></textarea>
        <br>
        <span id="character_count">Characters: 0</span>
        <br>
        <?php if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($response)) : ?>
            <?php foreach ($response as $message) : ?>
                <p><?php echo $message; ?></p>
            <?php endforeach; ?>
        <?php endif; ?>
        <br>
        <input type="submit" value="Send SMS">
    </form>

    <script>
        function updateCharacterCount() {
            var message = document.getElementById('message').value;
            var characterCount = message.length;
            var characterCountElement = document.getElementById('character_count');
        
            characterCountElement.innerText = 'Characters: ' + characterCount;
        
            if (characterCount > 70) {
                characterCountElement.classList.add('error');
            } else {
                characterCountElement.classList.remove('error');
            }
        }
    </script>
</body>
</html>
